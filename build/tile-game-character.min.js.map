{"version":3,"sources":["tile-game-character.js"],"names":["exports","global","define","internal","finalize","get","defined","pending","definitions","initDefinition","$cachelyToken","$depsRequiredByDefinitionToken","Function","name","args","arguments","val","apply","resolve","fn","i","len","dependencyName","deps","length","hasOwnProperty","push","dispatcher","whichAnimationEvent","Character","suit","x","y","keys","speed","isMoveKey","keyCode","keyMap","up","down","left","right","hasActionKey","downKeys","handleDownKeys","activeAction","walkKeys","containsActions","key","actionKey","self","setAction","actionKeys","move","el","classList","contains","add","remove","body","this","accessories","beforeAction","afterAction","keyMapInverse","document","createElement","appendChild","handleKeyDown","indexOf","handleKeyUp","index","splice","deltaX","deltaY","cls","dir","addAction","beforeActionFn","afterActionFn","getAction","onFinishCallback","end","intv","clearTimeout","removeEventListener","aniEvent","dispatch","events","ACTION_END","addEventListener","ACTION_START","addAccessory","a","className","removeAccessory","removeChild","render","create","isFunction","Event","validateEvent","e","Error","target","scope","map","getIndexOfListener","event","callback","list","listeners","cb","off","on","priority","undefined","sort","prioritySort","once","b","mapListeners","item","number","getListeners","strict","concat","removeAllListeners","fire","immediatePropagationStopped","bind","func","call","type","defaultPrevented","propagationStopped","prototype","preventDefault","stopPropagation","stopImmediatePropagation","toString","t","animations","animation","OAnimation","MozAnimation","WebkitAnimation","style"],"mappings":"CAAA,SAAUA,EAASC,GACfA,EAAY,IAAID,CAChB,IAAIE,GAAQC,EAAUC,EAAW,YAgdjC,OA/cA,YACI,GAAIC,GAAKC,EAASC,EAASC,EAAaC,EAAgBC,EAAgB,IAAKC,EAAiC,GA2D9G,OA1DAN,GAAMO,SAASF,GAAiBE,SAASF,IAAkB,SAASG,GAIhE,MAHKR,GAAIQ,KACLR,EAAIQ,OAEDR,EAAIQ,IAEfL,EAAcH,EAAI,KAClBC,EAAUD,EAAI,KACdE,EAAUF,EAAI,KACdI,EAAiB,SAASI,GACtB,IAAIP,EAAQO,GAAZ,CAGA,GAAIC,GAAOC,UACPC,EAAMF,EAAK,EACI,mBAARE,GACPV,EAAQO,GAAQG,KAEhBR,EAAYK,GAAQC,EAAK,GACzBN,EAAYK,GAAMF,GAAkCK,KAG5Dd,EAASC,EAAW,WAChBM,EAAeQ,MAAM,KAAMF,YAE/BG,QAAU,SAASL,EAAMM,GACrBZ,EAAQM,IAAQ,CAChB,IAEIO,GAAGC,EACHC,EAHAC,EAAOJ,EAAGR,GACVG,IAGJ,IAAIS,EAEA,IADAF,EAAME,EAAKC,OACNJ,EAAI,EAAGA,EAAIC,EAAKD,IACjBE,EAAiBC,EAAKH,GAClBZ,EAAYc,KACPf,EAAQkB,eAAeH,IACxBJ,QAAQI,EAAgBd,EAAYc,IAExCJ,QAAQI,EAAgBd,EAAYc,UAC7Bd,GAAYc,GAI/B,KAAKhB,EAAQmB,eAAeZ,GAAO,CAC/B,IAAKO,EAAI,EAAGA,EAAIC,EAAKD,IACjBE,EAAiBC,EAAKH,GACtBN,EAAKY,KAAKpB,EAAQmB,eAAeH,IAAmBhB,EAAQgB,GAEhEhB,GAAQO,GAAQM,EAAGF,MAAM,KAAMH,SAE5BP,GAAQM,IAEnBT,EAAW,WACP,IAAK,GAAIS,KAAQL,GACbU,QAAQL,EAAML,EAAYK,KAG3BX,KAIXA,EAAO,aAAe,aAAc,uBAAyB,SAASyB,EAAYC,GAM9E,QAASC,GAAUC,EAAMC,EAAGC,EAAGC,EAAMC,GA8BjC,QAASC,GAAUC,GACf,OAAQA,GACN,IAAKC,GAAOC,GACZ,IAAKD,GAAOE,KACZ,IAAKF,GAAOG,KACZ,IAAKH,GAAOI,MACV,OAAO,CAET,SACE,OAAO,GAGf,QAASC,KACL,IAAK,GAAItB,GAAI,EAAGA,EAAIuB,EAASnB,OAAQJ,GAAK,EACtC,IAAKe,EAAUQ,EAASvB,IACpB,OAAO,CAGf,QAAO,EAEX,QAASwB,KACL,IAAIC,EAAJ,CAKA,IAAK,GAFDC,GAAW,EACXC,EAAkBL,IACbtB,EAAI,EAAGA,EAAIuB,EAASnB,OAAQJ,GAAK,EAAG,CACzC,GAAI4B,GAAML,EAASvB,GACf6B,GAAad,EAAUa,EAE3B,IADAF,GAAaG,EAAgB,EAAJ,EACpBF,GAAgC,IAAbD,GAUjB,GAAIG,EAAW,CAClBH,EAAW,EACXI,EAAKC,UAAUC,EAAWJ,GAC1B,YAZIA,KAAQX,EAAOI,MACfS,EAAKG,KAAKnB,EAAO,GACVc,IAAQX,EAAOG,KACtBU,EAAKG,MAAMnB,EAAO,GACXc,IAAQX,EAAOC,GACtBY,EAAKG,KAAK,GAAInB,GACPc,IAAQX,EAAOE,MACtBW,EAAKG,KAAK,EAAGnB,GAazB,MALIY,KAAaI,EAAKI,GAAGC,UAAUC,SAAS,QACxCN,EAAKI,GAAGC,UAAUE,IAAI,SACdX,GAAYI,EAAKI,GAAGC,UAAUC,SAAS,SAC/CN,EAAKI,GAAGC,UAAUG,OAAO,QAEtBR,GAhFX,GAEIS,GAKAd,EAPAK,EAAOU,KACPC,KAEAlB,KACAS,KACAU,KACAC,KAEA1B,GACAC,GAAIL,EAAK,GACTQ,MAAOR,EAAK,GACZM,KAAMN,EAAK,GACXO,KAAMP,EAAK,IAEX+B,IACJ,KAAK,GAAI5C,KAAKiB,GACNA,EAAOZ,eAAeL,KACtB4C,EAAc3B,EAAOjB,IAAMA,EAGnC,IAAID,GAAK,YACT+B,GAAKnB,EAAIA,GAAK,EACdmB,EAAKlB,EAAIA,GAAK,EACdkB,EAAKI,GAAKW,SAASC,cAAc,OACjChB,EAAKI,GAAGC,UAAUE,IAAI,aACtBP,EAAKI,GAAGC,UAAUE,IAAI3B,GACtB6B,EAAOM,SAASC,cAAc,OAC9BP,EAAKJ,UAAUE,IAAI,QACnBP,EAAKI,GAAGa,YAAYR,GAsDpBT,EAAKkB,cAAgB,SAAShC,GAC1B,GAAK4B,EAAc5B,IAAagB,EAAWhB,GAM3C,MAHIO,GAAS0B,QAAQjC,MAAa,GAC9BO,EAASjB,KAAKU,GAEXc,GAEXA,EAAKoB,YAAc,SAASlC,GACxB,GAAK4B,EAAc5B,IAAagB,EAAWhB,GAA3C,CAGA,GAAImC,GAAQ5B,EAAS0B,QAAQjC,EAI7B,OAHImC,MAAU,GACV5B,EAAS6B,OAAOD,EAAO,GAEpBrB,IAEXA,EAAKG,KAAO,SAASoB,EAAQC,GAIzB,QAAShB,GAAOiB,GACRA,GAAOrB,EAAGC,UAAUC,SAASmB,IAC7BrB,EAAGC,UAAUG,OAAOiB,GAG5B,QAASlB,GAAIkB,GACLzB,EAAK0B,MAAQD,IACbjB,EAAOR,EAAK0B,KACZtB,EAAGC,UAAUE,IAAIkB,GACjBzB,EAAK0B,IAAMD,GAZnB,GAAIrB,GAAKJ,EAAKI,EAwBd,OAvBAJ,GAAKnB,GAAK0C,EACVvB,EAAKlB,GAAK0C,EAcNjB,EADAgB,EAAS,EACL,QACGA,EAAS,EACZ,OACGC,EAAS,EACZ,OAEA,MAEDxB,GAEXA,EAAK2B,UAAY,SAAShE,EAAMuB,EAAS0C,EAAgBC,GAQrD,MAPA3B,GAAWhB,GAAWvB,EAClBiE,IACAhB,EAAajD,GAAQiE,GAErBC,IACAhB,EAAYlD,GAAQkE,GAEjB7B,GAEXA,EAAK8B,UAAY,WACb,MAAOnC,IAEXK,EAAKC,UAAY,SAAStC,EAAMoE,GACxBpC,GACAA,EAAaqC,KAEjB,IAAIC,EAuBJ,OAtBAtC,IACIhC,KAAMA,EACNqE,IAAK,WACDE,aAAaD,GACbxB,EAAK0B,oBAAoBC,EAAUzC,EAAaqC,KAC5CD,GACAA,EAAiBpC,GAErBA,EAAaqC,IAAM/D,EACnB+B,EAAKI,GAAGC,UAAUG,OAAO,UACzBR,EAAKI,GAAGC,UAAUG,OAAO7C,GACzBqC,EAAKqC,SAASC,EAAOC,WAAYvC,EAAML,GACvCA,EAAe,KACXkB,EAAYlD,IACZqC,EAAKI,GAAGC,UAAUE,IAAIM,EAAYlD,MAI9C8C,EAAK+B,iBAAiBJ,EAAUzC,EAAaqC,KAC7ChC,EAAKI,GAAGC,UAAUE,IAAI,UACtBP,EAAKI,GAAGC,UAAUE,IAAI5C,GACtBqC,EAAKqC,SAASC,EAAOG,aAAczC,EAAML,GAClCK,GAEXA,EAAK0C,aAAe,SAAS/E,GACzB,IAAKgD,EAAYhD,GAAO,CACpB,GAAIgF,GAAI5B,SAASC,cAAc,MAC/B2B,GAAEC,UAAY,aAAejF,EAC7BqC,EAAKI,GAAGa,YAAY0B,GACpBhC,EAAYhD,GAAQgF,EAExB,MAAO3C,IAEXA,EAAK6C,gBAAkB,SAASlF,GAK5B,MAJIgD,GAAYhD,KACZqC,EAAKI,GAAG0C,YAAYnC,EAAYhD,UACzBgD,GAAYhD,IAEhBqC,GAEXA,EAAK+C,OAAS,WAEV,MADArD,KACOM,GAEXvB,EAAWuB,GApMf,GAAIsC,IACAG,aAAc,eACdF,WAAY,cAEZH,EAAW1D,GAkMf5B,GAAQwF,OAASA,EACjBxF,EAAQkG,OAAS,SAASpE,EAAMC,EAAGC,EAAGC,EAAMC,GACxC,MAAO,IAAIL,GAAUC,EAAMC,EAAGC,EAAGC,EAAMC,MAI/ChC,EAAO,cAAgB,QAAS,aAAc,mBAAqB,SAASe,EAAOkF,EAAYC,GAC3F,QAASC,GAAcC,GACnB,IAAKA,EACD,KAAMC,OAAM,6BAGpB,GAAI5E,GAAa,SAAS6E,EAAQC,EAAOC,GAMrC,QAASC,GAAmBC,EAAOC,GAC/B,GAAIC,GAAOC,EAAUH,EACrB,IAAIE,EACA,IAAK,GAAI1F,GAAI,EAAGA,EAAI0F,EAAKtF,OAAQJ,GAAK,EAClC,GAAI0F,EAAK1F,GAAG4F,KAAOH,EACf,MAAOzF,EAInB,QAAO,EAEX,QAAS6F,GAAIL,EAAOC,GAChBR,EAAcO,EACd,IAAIrC,GAAQoC,EAAmBC,EAAOC,GAAWC,EAAOC,EAAUH,EAC9DrC,MAAU,GACVuC,EAAKtC,OAAOD,EAAO,GAG3B,QAAS2C,GAAGN,EAAOC,EAAUM,GACzB,GAAIhB,EAAWU,GAQX,MAPAR,GAAcO,GACdG,EAAUH,GAASG,EAAUH,OAC7BG,EAAUH,GAAOlF,MACbsF,GAAIH,EACJM,SAAuBC,SAAbD,EAAyBA,EAAW,KAElDJ,EAAUH,GAAOS,KAAKC,GACf,WACHL,EAAIL,EAAOC,IAKvB,QAASU,GAAKX,EAAOC,EAAUM,GAGvB,QAAShG,KACL8F,EAAIL,EAAOzF,GACXF,EAAM4F,EAAUJ,GAASD,EAAQzF,WAJzC,GAAIoF,EAAWU,GAMX,MALAR,GAAcO,GAKPM,EAAGN,EAAOzF,EAAIgG,GAG7B,QAASG,GAAazB,EAAG2B,GACrB,MAAO3B,GAAEsB,SAAWK,EAAEL,SAE1B,QAASM,GAAaC,EAAMC,EAAQb,GAChCA,EAAKa,GAAUD,EAAKV,GAExB,QAASY,GAAahB,EAAOiB,GACzBxB,EAAcO,EACd,IAAIE,GAAMjB,EAAI,GACd,OAAIe,IAASiB,GACTf,KACIC,EAAUlB,KACViB,EAAOC,EAAUlB,GAAGiC,OAAOhB,IAE3BC,EAAUH,KACVE,EAAOC,EAAUH,GAAOkB,OAAOhB,IAEnCA,EAAKJ,IAAIe,GACFX,GAEJC,EAEX,QAASgB,KACLhB,KAEJ,QAASiB,GAAKnB,EAAU/F,GACpB,MAAO+F,IAAY5F,EAAM4F,EAAUL,EAAQ1F,GAE/C,QAASyE,GAASqB,GACdP,EAAcO,EACd,IAAyDxF,GAArD0F,EAAOc,EAAahB,GAAO,GAAOvF,EAAMyF,EAAKtF,OAAWoF,EAAyB,gBAAVA,GAAqBA,EAAQ,GAAIR,GAAMQ,EAClH,IAAIvF,EAEA,IADAN,UAAU,GAAK6F,EACVxF,EAAI,EAAGA,EAAIC,EAAKD,GAAK,EACjBwF,EAAMqB,6BACPD,EAAKlB,EAAK1F,GAAIL,UAI1B,OAAO6F,GAvFX,GAAIJ,GAAUA,EAAOU,IAAMV,EAAOU,GAAGvF,WACjC,MAAO6E,EAEXA,GAASA,KACT,IAAIO,KAkGJ,OAjEAG,GAAGvF,YAAa,EAoDZ8E,GAASC,GACTF,EAAOU,GAAKT,EAAMC,EAAIQ,KAAOT,EAAMC,EAAIQ,IAAIgB,KAAKzB,GAChDD,EAAOS,IAAMR,EAAMC,EAAIO,MAAQR,EAAMC,EAAIO,KAAKiB,KAAKzB,GACnDD,EAAOe,KAAOd,EAAMC,EAAIa,OAASd,EAAMC,EAAIa,MAAMW,KAAKzB,GACtDD,EAAOjB,SAAWiB,EAAOwB,KAAOvB,EAAMC,EAAInB,UAAU2C,KAAKzB,KAEzDD,EAAOU,GAAKA,EACZV,EAAOS,IAAMA,EACbT,EAAOe,KAAOA,EACdf,EAAOjB,SAAWiB,EAAOwB,KAAOzC,GAEpCiB,EAAOoB,aAAeA,EACtBpB,EAAOuB,mBAAqBA,EACrBvB,EAEX,OAAO7E,KAGXzB,EAAO,SAAW,cAAgB,SAASiG,GACvC,MAAO,UAASgC,EAAM1B,EAAO3F,GACzB,GAAKqF,EAAWgC,GAAhB,CAIA,OADArH,EAAOA,MACCA,EAAKU,QACX,IAAK,GACH,MAAO2G,GAAKC,KAAK3B,EAEnB,KAAK,GACH,MAAO0B,GAAKC,KAAK3B,EAAO3F,EAAK,GAE/B,KAAK,GACH,MAAOqH,GAAKC,KAAK3B,EAAO3F,EAAK,GAAIA,EAAK,GAExC,KAAK,GACH,MAAOqH,GAAKC,KAAK3B,EAAO3F,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAEjD,KAAK,GACH,MAAOqH,GAAKC,KAAK3B,EAAO3F,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAE1D,KAAK,GACH,MAAOqH,GAAKC,KAAK3B,EAAO3F,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAEnE,KAAK,GACH,MAAOqH,GAAKC,KAAK3B,EAAO3F,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE9E,MAAOqH,GAAKlH,MAAMwF,EAAO3F,OAIjCZ,EAAO,aAAc,WACjB,GAAIiG,GAAa,SAASnF,GACtB,MAAsB,kBAARA,GAElB,OAAOmF,KAGXjG,EAAO,kBAAmB,WACtB,QAASkG,GAAMiC,GACXzE,KAAKyE,KAAOA,EACZzE,KAAK0E,kBAAmB,EACxB1E,KAAK2E,oBAAqB,EAC1B3E,KAAKqE,6BAA8B,EAcvC,MAZA7B,GAAMoC,UAAUC,eAAiB,WAC7B7E,KAAK0E,kBAAmB,GAE5BlC,EAAMoC,UAAUE,gBAAkB,WAC9B9E,KAAK2E,oBAAqB,GAE9BnC,EAAMoC,UAAUG,yBAA2B,WACvC/E,KAAKqE,6BAA8B,GAEvC7B,EAAMoC,UAAUI,SAAW,WACvB,MAAOhF,MAAKyE,MAETjC,IAGXlG,EAAO,sBAAuB,WAC1B,QAAS0B,KACL,GAAIiH,GAAGvF,EAAKW,SAASC,cAAc,eAC/B4E,GACAC,UAAW,eACXC,WAAY,gBACZC,aAAc,eACdC,gBAAiB,qBAErB,KAAKL,IAAKC,GACN,GAAoB1B,SAAhB9D,EAAG6F,MAAMN,GACT,MAAOC,GAAWD,GAI9B,MAAOjH,KAGXxB,IACOH,EAAY,KACpB2D,KAAU,QAAS,WAClB,MAAOA","file":"tile-game-character.min.js"}